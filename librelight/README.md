Experiment in which I tried to implement a tiny subset of libight
trying to use only smart pointers and std::function<>.

Here there could be some ideas to simplify the implementation of
libight and make it safer by default.
